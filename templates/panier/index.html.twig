{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}

<main class="container">

    <section class="row">

        <div class="col-12">

            <h1> Votre panier : </h1>

                <table class="table align-middle text-center">

                    <thead>

                        <tr>

                            <th>Image</th>
                            <th>Libelle</th>
                            <th>Description</th>
                            <th>Prix</th>
                            <th>Quantité</th>
                            <th>Total</th>
                            <th>Action</th>

                        </tr>

                    </thead>

                    <tbody>

                    {% for element in data %}

                        <tr>

                        <td><img src="{{ asset('/img/food/' ~ element.plat.image )}}" class="col-4"></td>

                        <td>{{element.plat.libelle}}</td>

                        <td>{{element.plat.description}}</td>

                        <td>{{element.plat.prix}}</td>

                        <td>{{element.quantite}}</td>

                        <td>{{element.quantite * element.plat.prix}} €</td>

                        <td>

                            <div class="d-flex">

                                <a href="{{ path('app_panierAjout', {id : element.plat.id})}}" class="btn btn-success">+</a>

                                <a href="{{ path('app_panierRetirer', {id : element.plat.id})}}" class="btn btn-warning">-</a>

                                <a href="{{ path('app_panierSupprimer', {id : element.plat.id})}}" class="btn btn-danger">Supprimer</a>

                            </div>

                        </td>

                        </tr>
                    
                    {% else %}

                        <tr>

                            <td colspan="7">Votre panier est vide</td>

                        </tr>

                    {% endfor %}

                    </tbody>

                    <tfoot>

                        <tr>

                            <td colspan="5"> Total</td>

                            <td>{{total}} €</td>

                            <td><a href="{{ path('app_panierVider')}}" class="btn btn-danger">Vider le panier</a></td>

                        </tr>

                    </tfoot>

                </table>

                <div class="d-flex justify-content-center">

                    <a href="{{ path('app_commande')}}" class="btn btn-primary btn-mod ">Commander</a>

                </div>

        </div>
    
    </section>

</main>

{% endblock %}